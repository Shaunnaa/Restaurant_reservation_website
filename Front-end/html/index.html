<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>

    <!-- Tailwind css -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="../js/navbar.js">

    <!-- ionicon-->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>


<body>
    <header class="bg-[#BC3535] fixed w-full z-50">
        <!--fixed = fixed position | w-full = The full width of the viewport | z-50 = Stays on top of other elements-->
        <navbar-component></navbar-component>
    </header>

    <main class="grid place-items-center gap-11 px-9 pb-9 pt-32">
        <!--place-items-center = Set the gird in to the center | gap-9 = 36 px| p-9 = padding all 36px-->
        <!--Advertising (First box)-->
        <article class="Box_section bg-white border border-black rounded-3xl shadow">
            <a href="#">
                <img class="rounded-3xl w-full h-auto" src="../image/Advertising.png" alt="" />
            </a>
        </article>

        <!--Top Pick (Second box)-->
        <article class="Box_section bg-white border border-black rounded-3xl shadow px-12 pt-6 pb-3">
            <!--Topic-->
            <div class="p-2">
                <a href="./TopPick">
                    <h5 class="mb-6 text-5xl font-bold tracking-tight text-gray-900">Top Pick</h5>
                </a>
            </div>

            <!--Restaurant group of 5-->
            <div id="toppicks-group" class="grid grid-cols-5 gap-12">
                <!--Restaurant No.1-->


            </div>
        </article>

        <!--Close To You (Third box)-->
        <article class="Box_section bg-white border border-black rounded-3xl shadow px-12 pt-6 pb-3">
            <!--Topic-->
            <div class="p-2">
                <a href="./CloseToYou.html">
                    <h5 class="mb-6 text-5xl font-bold tracking-tight text-gray-900">Close To You</h5>
                </a>
            </div>

            <!--Restaurant group of 5-->
            <div class="grid grid-cols-5 gap-12">
                <!--Restaurant No.1-->
                <section class="max-w-64 bg-white">
                    <a href="#">
                        <img class="rounded-3xl w-full h-auto" src="../image/Restaurant1.png" alt="" />
                        <div class="p-5">
                            <h5 class="mb-2 text-2xl text-center font-bold tracking-tight text-gray-900">
                                Savor & Sage</h5>
                        </div>
                    </a>
                </section>

                <!--Restaurant No.2-->
                <section class="max-w-64 bg-white">
                    <a href="#">
                        <img class="rounded-3xl w-full h-auto" src="../image/Restaurant1.png" alt="" />
                        <div class="p-5">
                            <h5 class="mb-2 text-2xl text-center font-bold tracking-tight text-gray-900">
                                Savor & Sage</h5>
                        </div>
                    </a>
                </section>

                <!--Restaurant No.3-->
                <section class="max-w-64 bg-white">
                    <a href="#">
                        <img class="rounded-3xl w-full h-auto" src="../image/Restaurant1.png" alt="" />
                        <div class="p-5">
                            <h5 class="mb-2 text-2xl text-center font-bold tracking-tight text-gray-900">
                                Savor & Sage</h5>
                        </div>
                    </a>
                </section>

                <!--Restaurant No.4-->
                <section class="max-w-64 bg-white">
                    <a href="#">
                        <img class="rounded-3xl w-full h-auto" src="../image/Restaurant1.png" alt="" />
                        <div class="p-5">
                            <h5 class="mb-2 text-2xl text-center font-bold tracking-tight text-gray-900">
                                Savor & Sage</h5>
                        </div>
                    </a>
                </section>

                <!--Restaurant No.5-->
                <section class="max-w-64 bg-white">
                    <a href="#">
                        <img class="rounded-3xl w-full h-auto" src="../image/Restaurant1.png" alt="" />
                        <div class="p-5">
                            <h5 class="mb-2 text-2xl text-center font-bold tracking-tight text-gray-900">
                                Savor & Sage</h5>
                        </div>
                    </a>
                </section>
            </div>
        </article>

    </main>

    <footer>
        <footer-component></footer-component>
    </footer>

    <script>
        // Fetch data from the API endpoint
        fetch('http://localhost:3040/api/toppicks')
            .then(response => response.json())
            .then(data => {
                // Update HTML content dynamically with fetched data
                const container = document.getElementById('toppicks-group');
                for (let i = 0; i < 5; i++) {
                    const item = data[i]
                    const section = document.createElement('section');
                    section.className = 'max-w-64 bg-white';
                    section.innerHTML = `
                    <section class="">
                        <a href="http://localhost:3040/api/${item.Restaurant_name.split(' ').join('_')}">
                            <img class="rounded-3xl w-full h-auto" src="https://lh3.googleusercontent.com/d/${item.Restaurant_image}" alt="" />
                            <div class="p-5">
                                <h5 class="mb-2 text-2xl text-center font-bold tracking-tight text-gray-900">${item.Restaurant_name}</h5>
                            </div>
                        </a>
                    `;
                    container.appendChild(section);
                }
            })
            .catch(error => {
                console.error('Error fetching data:', error);
                // Handle error
            });
    </script>

    <script src="../js/navbar.js"></script>
    <script src="../js/footer.js"></script>
</body>

</html>